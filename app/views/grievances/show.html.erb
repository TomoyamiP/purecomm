<div class="container">
  Sent on <%= @grievance.created_at %>
</div>

<div class="topic-container">
  <h3>Topic</h3>
  <%= @grievance.topic %>
</div>

<div class="made-me-feel">
  <%= inline_svg_tag "icons/#{@grievance.feeling.downcase}.svg", class: "icon" %>
</div>

<div class="situation-container">
  <h3>Description of the situation</h3>
  <p>
    <%= @grievance.situation %>
  </p>
</div>

<div class="intensity-container">
  <h3>Intensity Scale</h3>
  <% value = (@grievance.intensity_scale || 0).to_i.clamp(0,5) %>

  <div class="intensity-readonly">
    <div class="d-flex justify-content-between mb-1">
      <span class="fw-semibold">Intensity</span>
      <span class="text-muted small"><%= value %> / 5</span>
    </div>

    <!-- Bar block: row 1 = leaf | bar | fire, row 2 = labels under bar only -->
    <div class="bar-block">
      <i class="fa-solid fa-leaf"></i>

      <div class="bar">
        <div class="fill" style="width:<%= (value/5.0*100).round %>%"></div>
      </div>

      <i class="fa-solid fa-fire"></i>

      <!-- labels sit under the bar (middle column only) -->
      <div class="labels">
        <span>0</span><span>1</span><span>2</span>
        <span>3</span><span>4</span><span>5</span>
      </div>
    </div>
  </div>
</div>
