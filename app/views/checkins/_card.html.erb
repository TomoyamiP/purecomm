<div id="<%= dom_id(checkin) %>"
     class="check-in-card d-flex align-items-center gap-3 <%= 'faded' if read %>"
     data-created-at="<%= checkin.created_at.to_i %>"
     data-read="<%= read %>">
  <div class="checkin-avatar-wrap">
    <%= image_tag "#{checkin.user.username}.png", class: "checkin-avatar", alt: checkin.user.username %>
    <% has_comment =
         if checkin.respond_to?(:comment)
           checkin.comment.present?
         elsif checkin.respond_to?(:comments)
           checkin.comments.any?
         else
           false
         end %>
    <% if has_comment %>
      <span class="checkin-badge" title="Has a comment" aria-label="Has a comment">
        <%= inline_svg_tag "icons/new-message.svg", class: "checkin-badge__icon", aria: { hidden: true } %>
      </span>
    <% end %>
  </div>
  <div>
    <%= link_to checkin_summary(checkin), checkin_path(checkin) %>
    <div class="checkin-time"><%= checkin.created_at.in_time_zone.strftime("%Y-%m-%d %H:%M") %></div>
  </div>
</div>
